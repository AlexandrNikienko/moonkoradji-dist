import{a as G,b as N}from"./chunk-OTFPGE2G.js";import{a as z}from"./chunk-EMEHGFFZ.js";import{a as U}from"./chunk-IP5LSFQL.js";import{a as k}from"./chunk-57NFZ5IX.js";import{c as V}from"./chunk-QW7FHNZF.js";import{b as F,d as L,e as B,h as j}from"./chunk-36XWQROP.js";import{a as H}from"./chunk-YHWH3BVN.js";import{$ as v,$a as m,Ea as i,Oa as a,P,Q as I,Ra as R,Ua as c,Xb as D,Yb as T,Za as o,Zb as E,_a as r,aa as _,ac as A,f as w,gb as d,jb as x,k as O,nb as l,ob as y,pb as f,ub as g,wb as S,xa as u,xb as C,ya as h,zb as b}from"./chunk-H3DDYWJ3.js";var q=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-audio-player"]],inputs:{embedAudio:"embedAudio"},standalone:!0,features:[g],decls:3,vars:4,consts:[[3,"innerHTML"]],template:function(n,s){n&1&&(m(0,"app-shared-loader")(1,"div",0),C(2,"safe")),n&2&&(i(1),a("innerHTML",b(2,1,s.embedAudio,"html"),u))},dependencies:[U,k],styles:["[_nghost-%COMP%]{position:relative;display:block}"]})}}return t})();var X=(()=>{class t{static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-shared-video"]],inputs:{embedVideo:"embedVideo"},standalone:!0,features:[g],decls:2,vars:4,consts:[[1,"c-video",3,"innerHTML"]],template:function(n,s){n&1&&(m(0,"div",0),C(1,"safe")),n&2&&a("innerHTML",b(1,1,s.embedVideo,"html"),u)},dependencies:[k],encapsulation:2})}}return t})();function K(t,p){if(t&1&&m(0,"app-audio-player",22),t&2){let e=d(2);a("embedAudio",e.release.embedAudio)}}function W(t,p){if(t&1&&(o(0,"a",26),l(1,"Bandcamp"),r()),t&2){let e=d(3);x("href",e.release.bandcampLink,h)}}function Z(t,p){if(t&1&&(o(0,"a",26),l(1,"Bandcamp 24 bit"),r()),t&2){let e=d(3);x("href",e.release.bandcamp24Link,h)}}function J(t,p){if(t&1&&(o(0,"div",23)(1,"p",24),l(2),r(),c(3,W,2,1,"a",25)(4,Z,2,1,"a",25),r()),t&2){let e=d(2);i(2),y(e.release.isFree?"Free Download:":"Buy Digital:"),i(1),a("ngIf",e.release.bandcampLink),i(1),a("ngIf",e.release.bandcamp24Link)}}function Q(t,p){if(t&1&&(o(0,"div",23),m(1,"div",27),o(2,"p",24),l(3,"CD Purchase:"),r(),o(4,"a",26),l(5,"Beatspace"),r()()),t&2){let e=d(2);i(4),x("href",e.release.beatspaceLink,h)}}function Y(t,p){if(t&1&&(o(0,"p",28),l(1),r()),t&2){let e=p.$implicit;i(1),f(" ",e.paragraph," ")}}function ee(t,p){if(t&1&&(o(0,"p",19),l(1," Compiled by "),o(2,"a",29),l(3),r()()),t&2){let e=d(2);i(2),x("routerLink","/artists/"+e.release.compiledBy.replace(" ","-").toLowerCase()),i(1),y(e.release.compiledBy)}}function te(t,p){if(t&1&&(o(0,"p",19),l(1),r()),t&2){let e=d(2);i(1),f(" W&P by ",e.release.cdAuthor," ")}}function ie(t,p){if(t&1&&(o(0,"p",19),l(1),r()),t&2){let e=d(2);i(1),f(" Mastering by ",e.release.masteredBy," ")}}function ne(t,p){if(t&1&&(o(0,"p",19),l(1),r()),t&2){let e=d(2);i(1),f(" Artwork by ",e.release.artworkBy," ")}}var ae=t=>["/artists",t],re=t=>({backgroundImage:t});function oe(t,p){if(t&1&&(o(0,"div",33)(1,"a",34)(2,"div",35),l(3),r()()()),t&2){let e=p.$implicit;i(1),a("routerLink",S(3,ae,e.artistRoute))("ngStyle",S(5,re,"url(/assets/images/artists/m_"+e.artistAvatar+")")),i(2),y(e.artistName)}}function se(t,p){if(t&1&&(o(0,"div",30)(1,"p",31),l(2,"Involved musicians:"),r(),c(3,oe,4,7,"div",32),r()),t&2){let e=d(2);i(3),a("ngForOf",e.involved)}}function le(t,p){if(t&1&&(o(0,"div",36),m(1,"app-shared-video",37),r()),t&2){let e=d(2);i(1),a("embedVideo",e.release.embedVideo)}}function pe(t,p){if(t&1&&(o(0,"div",4),m(1,"mk-heading",5),o(2,"div",6),m(3,"app-picture",7),o(4,"a",8),m(5,"i",9),l(6,"Go to Releases page "),r()(),o(7,"div",10),c(8,K,1,1,"app-audio-player",11),r(),o(9,"div",12)(10,"div",13),c(11,J,5,3,"div",14)(12,Q,6,1,"div",14),r(),o(13,"div",15),c(14,Y,2,1,"p",16),r(),o(15,"div",17),c(16,ee,4,2,"p",18)(17,te,2,1,"p",18)(18,ie,2,1,"p",18)(19,ne,2,1,"p",18),o(20,"p",19),l(21),r()(),c(22,se,4,1,"div",20),r(),c(23,le,2,1,"div",21),r()),t&2){let e=d();i(1),a("title",e.release.releaseTitle),i(2),R("release-cover"),a("cover",e.release.releaseCover)("imageFolder","release-cover/"),i(5),a("ngIf",e.release.embedAudio),i(3),a("ngIf",e.release.bandcampLink||e.release.bandcamp24Link),i(1),a("ngIf",e.release.beatspaceLink),i(2),a("ngForOf",e.release.releaseDescription),i(2),a("ngIf",e.release.compiledBy),i(1),a("ngIf",e.release.cdAuthor),i(1),a("ngIf",e.release.masteredBy),i(1),a("ngIf",e.release.artworkBy),i(2),f(" Release date: ",e.release.releaseDate," "),i(1),a("ngIf",e.release.artists),i(1),a("ngIf",e.release.embedVideo)}}function de(t,p){if(t&1&&(o(0,"div",38)(1,"p"),l(2,"Previous release:"),r(),m(3,"app-release-card",39),r()),t&2){let e=d();i(3),a("releaseItem",e.previousRelease)}}function me(t,p){if(t&1&&(o(0,"div",40)(1,"p"),l(2,"Next release:"),r(),m(3,"app-release-card",39),r()),t&2){let e=d();i(3),a("releaseItem",e.nextRelease)}}var Ae=(()=>{class t{constructor(){this.route=v(F),this.router=v(L),this.dataService=v(V),this.metaData=v(H),this.involved=[],this.destroyStream=new w}ngOnInit(){this.route.paramMap.pipe(I(this.destroyStream)).subscribe(e=>{this.fetchReleaseData(e.get("releaseRoute"))})}ngOnDestroy(){this.destroyStream.next()}fetchReleaseData(e){this.dataService.requestToData("releases").pipe(P(n=>{let s=n.findIndex(M=>M.releaseRoute===e);return s===-1?(this.router.navigate(["/404"]),O(null)):(this.release=n[s],this.nextRelease=s===0?null:n[s-1],this.previousRelease=s===n.length?null:n[s+1],this.dataService.requestToData("artists"))}),I(this.destroyStream)).subscribe(n=>{this.involved=n?this.getInvolvedArtists(n,this.release.artists):null})}getInvolvedArtists(e,n){return e.filter(s=>n.includes(s.artistName))}shareOnFacebook(){window.open("https://www.facebook.com/sharer.php?u="+encodeURIComponent("https://www.moonkoradji.com/releases/"+this.release.releaseRoute),"_blank")}setMetaData(e){let n=e.releaseDescription.reduce((s,M)=>s+M.paragraph,"");this.metaDataObj={title:`${e.releaseTitle} | Moon Koradji Records`,description:n,ogTitle:e.releaseTitle,ogImage:"https://www.moonkoradji.com/assets/images/release-cover/"+e.releaseCover.default,ogUrl:"https://www.moonkoradji.com/releases/"+e.releaseRoute,ogDescription:n},this.metaData.setMetaData(this.metaDataObj)}static{this.\u0275fac=function(n){return new(n||t)}}static{this.\u0275cmp=_({type:t,selectors:[["app-release"]],standalone:!0,features:[g],decls:4,vars:3,consts:[["class","row",4,"ngIf"],[1,"catalog"],["class","catalog__prev",4,"ngIf"],["class","catalog__next",4,"ngIf"],[1,"row"],[3,"title"],[1,"offset-md-1","col-md-4","col-sm-12"],[3,"cover","imageFolder"],["routerLink","/releases",1,"s-go-back","mb-16"],[1,"fas","fa-long-arrow-alt-left"],[1,"col-md-6","col-sm-12"],[3,"embedAudio",4,"ngIf"],[1,"offset-md-1","col-md-10"],[1,"release-credits"],["class","release-credits__side",4,"ngIf"],[1,"release-description"],["class","release-description__paragraph",4,"ngFor","ngForOf"],[1,"release-credits","text-align-right"],["class","release-credits__paragraph dark-color",4,"ngIf"],[1,"release-credits__paragraph","dark-color"],["class","col-md-12 col-sm-12 s-involved-artists",4,"ngIf"],["class","offset-md-1 col-md-10 col-sm-12",4,"ngIf"],[3,"embedAudio"],[1,"release-credits__side"],[1,"release-credits__paragraph"],["target","_blank","class","release-link",3,"href",4,"ngIf"],["target","_blank",1,"release-link",3,"href"],[1,"release-credits__icon"],[1,"release-description__paragraph"],[3,"routerLink"],[1,"col-md-12","col-sm-12","s-involved-artists"],[1,"s-involved-artists__title"],["class","s-involved-artists__item",4,"ngFor","ngForOf"],[1,"s-involved-artists__item"],[1,"s-involved-artists__content",3,"routerLink","ngStyle"],[1,"s-involved-artists__name"],[1,"offset-md-1","col-md-10","col-sm-12"],[3,"embedVideo"],[1,"catalog__prev"],[3,"releaseItem"],[1,"catalog__next"]],template:function(n,s){n&1&&(c(0,pe,24,16,"div",0),o(1,"div",1),c(2,de,4,1,"div",2)(3,me,4,1,"div",3),r()),n&2&&(a("ngIf",s.release),i(2),a("ngIf",s.previousRelease),i(1),a("ngIf",s.nextRelease))},dependencies:[A,D,T,E,j,B,z,q,X,G,N],styles:["[_ngcontent-%COMP%]:root{--themeColor: rgb(121, 157, 2);--themeColor--rgb: 121, 157, 2;--themeColorAlt: #24172e;--themeColorAlt--rgb: 36, 23, 46;--darkGrey: #1a1a1a;--grey: #7e7e7e;--lightGrey: $lightGrey;--lightGrey--rgb: 204, 204, 204;--lightGreyAlt: #f1f1f1;--white: white;--dark: $dark}@keyframes _ngcontent-%COMP%_fade-out{0%{opacity:1}to{opacity:0}}@keyframes _ngcontent-%COMP%_fade-in{0%{opacity:0}to{opacity:1}}@keyframes _ngcontent-%COMP%_grow{0%{transform:rotateX(90deg)}to{transform:rotateX(0)}}@keyframes _ngcontent-%COMP%_coming{0%{transform:translate3D(-50%,-100%,0)}to{transform:translate3D(-50%,35%,0)}}@keyframes _ngcontent-%COMP%_growing{0%{opacity:0;transform:scale3d(0,0,0)}to{opacity:1;transform:scaleZ(1)}}@keyframes _ngcontent-%COMP%_arrow{0%{transform:translate(15px)}to{transform:translate(25px)}}.release-name[_ngcontent-%COMP%]{margin-bottom:15px;font-size:26px;font-weight:300}  .release-cover{margin:0 1rem .75rem 0;box-shadow:0 0 1px #fff,-1px -1px 1px #9ff,1px -1px 1px #9c9,-1px 1px 1px #6cf,1px 1px 1px #66f}@supports (margin-inline-end: 0){  .release-cover{margin-right:0;margin-inline-end:1rem}}@supports (margin-block-end: 0){  .release-cover{margin-bottom:0;margin-block-end:.75rem}}.release-credits[_ngcontent-%COMP%]{margin-bottom:20px}.release-credits__paragraph[_ngcontent-%COMP%]{margin-bottom:6px;flex:1 1 100%;line-height:normal}.release-credits__paragraph.dark-color[_ngcontent-%COMP%]{color:#bbb}.release-credits__icon[_ngcontent-%COMP%]{display:none;background:url(/assets/images/long-play-record-cover.svg) no-repeat center;width:40px;height:40px;float:left;float:inline-start;margin-right:.75rem}@supports (margin-inline-end: 0){.release-credits__icon[_ngcontent-%COMP%]{margin-right:0;margin-inline-end:.75rem}}.release-link[_ngcontent-%COMP%]{display:inline-block;margin-bottom:16px;margin-right:8px;padding:8px 16px;border:1px solid;border-radius:4px;background-color:#ffffff40;line-height:normal}@media (max-width: 767px){.release-link[_ngcontent-%COMP%]{font-size:14px}}.release-description[_ngcontent-%COMP%]{color:#ddd}.release-description__paragraph[_ngcontent-%COMP%]{margin-bottom:1.2em;text-indent:2rem}.s-involved-artists[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:20px;padding-top:1rem;margin-bottom:3rem}.s-involved-artists__title[_ngcontent-%COMP%]{width:100%;margin-bottom:10px;color:#bbb}.s-involved-artists__item[_ngcontent-%COMP%]{flex:0 0 112px;position:relative;aspect-ratio:1}.s-involved-artists__content[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:url(/assets/images/mk_square.jpg);background-size:cover;background-position:center;display:flex;align-items:flex-end;border-radius:50% 0;overflow:hidden;box-shadow:0 0 1px #fff,-1px -1px 1px #9ff,1px -1px 1px #9c9,-1px 1px 1px #6cf,1px 1px 1px #66f;transition:.3s}.s-involved-artists__name[_ngcontent-%COMP%]{font-size:12px;width:100%;background:linear-gradient(to bottom,transparent 0,rgba(0,0,0,.75) 100%);padding:10px 30px 10px 10px}.release-hub[_ngcontent-%COMP%]{width:100%;border:none;height:670px}.catalog[_ngcontent-%COMP%]{margin-top:4rem;display:flex;justify-content:space-between;background-color:#00000080;padding:2rem;border-radius:1rem}.catalog__next[_ngcontent-%COMP%]{margin-inline-start:auto}.catalog__next[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right}.catalog[_ngcontent-%COMP%]     .release-card{width:200px}@media (max-width: 767px){.catalog[_ngcontent-%COMP%]     .release-card{width:140px}}@media (max-width: 767px){.catalog[_ngcontent-%COMP%]{margin-top:3rem;background-color:transparent;padding:0;border-radius:0}}"]})}}return t})();export{Ae as ReleaseComponent};
