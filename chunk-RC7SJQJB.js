var M=class{constructor(){this.template=`<div class="crystalization">
					<div class="crystalization__glow"></div>
					<div class="crystalization__overlay"></div>
					<canvas class="crystalization__canvas"></canvas>
				</div>`}createHTML(d){let v=document.querySelector(d);if(v.insertAdjacentHTML("afterbegin",this.template),d!=="body"){let m=v.querySelector(".crystalization");v.style.position="relative",m.style.position="absolute"}}init(d="body",r=230){this.createHTML(d);var m=document.querySelector(".crystalization__canvas"),e=m.getContext("2d"),x=document.querySelector(".crystalization__glow"),s=e.canvas.width=window.innerWidth,o=e.canvas.height=window.innerHeight;window.onresize=function(){s=e.canvas.width=window.innerWidth,o=e.canvas.height=window.innerHeight,y=o*.9,l=o*.5,t=[],p(),e.globalCompositeOperation="lighter"};var t=[],S=100,w=15,c=2,y=o*.9,l=o*.5,g=35,h=6,r=r,i=50,f=0;e.globalCompositeOperation="lighter";function p(){for(let a=1;a<S;a++)t.push({x:Math.random()*s,y:Math.random()*o/2,h:Math.random()*(y-l)+l,w:Math.random()*(w-c)+c,c:Math.random()*(r+i-(r-i))+(r-i),m:Math.random()*(g-h)+h})}function u(){e.clearRect(0,0,s,o);for(let a=1;a<t.length;a++){e.beginPath();let n=e.createLinearGradient(t[a].x,t[a].y,t[a].x+t[a].w,t[a].y+t[a].h);n.addColorStop(0,"hsla("+t[a].c+",50%,50%,.0)"),n.addColorStop(.2,"hsla("+t[a].c+20+",50%,50%,.5)"),n.addColorStop(.5,"hsla("+t[a].c+50+",70%,60%,.8)"),n.addColorStop(.8,"hsla("+t[a].c+80+",50%,50%,.5)"),n.addColorStop(1,"hsla("+(t[a].c+100)+",50%,50%,.0)"),e.shadowBlur=f,e.shadowColor="hsla("+t[a].c+",50%,50%,1)",e.fillStyle=n,e.rect(t[a].x,t[a].y,t[a].w,t[a].h),e.fill(),e.closePath(),t[a].x+=t[a].m/100,t[a].x>s+w&&(t.splice(a,1),t.push({x:0,y:Math.random()*o,h:Math.random()*(y-l)+l,w:Math.random()*(w-c)+c,c:Math.random()*(r+i-(r-i))+(r-i),m:Math.random()*(g-h)+h}))}window.requestAnimationFrame(u)}x.style.background="radial-gradient(ellipse at center, hsla("+r+",50%,50%,.8) 0%,rgba(0,0,0,0) 100%)",p(),u()}destroy(){document.querySelector(".crystalization").remove()}};export{M as a};
